!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("neural-js",[],n):"object"==typeof exports?exports["neural-js"]=n():t["neural-js"]=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=11)}([function(t,n,e){var r=e(8),i=e(9),a=i;a.v1=r,a.v4=i,t.exports=a},function(t,n){function e(t,n){var e=n||0,i=r;return i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=e},function(t,n,e){(function(n){var e,r=n.crypto||n.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);e=function(){return r.getRandomValues(i),i}}if(!e){var a=new Array(16);e=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),a[n]=t>>>((3&n)<<3)&255;return a}}t.exports=e}).call(n,e(10))},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(7),a=r(i),o=e(5),u=r(o);n.default={Network:u.default,utils:a.default},t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(0),s=r(u),l=e(6),c=r(l),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.id=s.default.v4(),this.metadata={},this.neurons=[],this._init(n)}return o(t,[{key:"_init",value:function(t){if(t=Object.assign({activationFunction:"sigmoid",size:10,neurons:null},t),this._validateOrThrow(t),this.metadata={activationFunction:t.activationFunction,size:t.neurons&&t.neurons.length||10},t.neurons){var n;(n=this.neurons).push.apply(n,i(t.neurons))}else this.neurons=Array.from({length:t.size}).map(function(){return new c.default({activationFunction:t.activationFunction})})}},{key:"_validateOrThrow",value:function(t){if("number"!=typeof t.size)throw new Error("size must be a number.");if("string"!=typeof t.activationFunction)throw new Error("activationFunction must be a string.");if(t.neurons&&!Array.isArray(t.neurons))throw new Error("neurons must be an array.")}},{key:"connectInputOutputNeurons",value:function(t){var n=!0,e=!1,r=void 0;try{for(var i,a=this.neurons[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var o=i.value,u=!0,s=!1,l=void 0;try{for(var c,f=t.neurons[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value;!o.metadata.inputNeuronIds.includes(t.id)&&o.addOutputNeuronId(d.id),!d.metadata.outputNeuronIds.includes(o.id)&&d.addInputNeuronId(o.id)}}catch(t){s=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}}}catch(t){e=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw r}}}},{key:"resolve",value:function(t){return this.neurons.map(function(n,e){return n.process(t[e])})}},{key:"toJSON",value:function(){return{id:this.id,metadata:this.metadata,neurons:this.neurons.map(function(t){return t.toJSON()})}}}]),t}();n.default=f,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(0),s=r(u),l=e(4),c=r(l),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.id=s.default.v4(),this.metadata={},this.historyOutputValues=[],this.layers=[],this._init(n)}return o(t,[{key:"_init",value:function(t){var n=this;if(t=Object.assign({activationFunction:"sigmoid",layersSize:[],layers:[]},t),this._validateOrThrow(t),this.metadata={activationFunction:t.activationFunction,size:t.layers&&t.layers.length||3},t.layers.length){var e;(e=this.layers).push.apply(e,i(t.layers)),this.layers.map(function(t,e){return e<n.layers.length-1&&t.connectInputOutputNeurons(n.layers[e+1])})}else{var r=new c.default({size:100,activationFunction:t.activationFunction}),a=new c.default({size:10,activationFunction:t.activationFunction}),o=new c.default({size:1,activationFunction:t.activationFunction});this.layers.push(r,a,o),this.layers.map(function(t,e){return e<n.layers.length-1&&t.connectInputOutputNeurons(n.layers[e+1])})}}},{key:"_validateOrThrow",value:function(t){if("string"!=typeof t.activationFunction)throw new Error("activationFunction must be a string.");if(!Array.isArray(t.layers))throw new Error("layers must be an array.");if(!Array.isArray(t.layersSize))throw new Error("layersSize must be an array.");if(!t.layers.length&&t.layersSize.length<2)throw new Error("The network waiting for 2 layers size minimum (input, output).");if(t.layers.length<2)throw new Error("The network waiting for 2 layers minimum (input, output).")}},{key:"train",value:function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({learningRate:.1,iterations:1e4,error:.005,log:!1},e);for(var r=Array.from(this.layers),a=r.reverse().pop(),o=r.reverse().pop(),u=(n=[]).concat.apply(n,i(r)),s=0,l=null;s<e.iterations&&1>e.error;){s++;var c=!0,f=!1,d=void 0;try{for(var v,h=t[Symbol.iterator]();!(c=(v=h.next()).done);c=!0)!function(){var t=v.value,n=a.resolve(t.input),e=null;u.map(function(t,r){e=0===r?t.resolve(n):t.resolve(e)}),l=o.resolve(e)}()}catch(t){f=!0,d=t}finally{try{!c&&h.return&&h.return()}finally{if(f)throw d}}}console.log(l)}},{key:"toJSON",value:function(){return{id:this.id,metadata:this.metadata,historyOutputValues:this.historyOutputValues,layers:this.layers.map(function(t){return t.toJSON()})}}}]),t}();n.default=f,t.exports=n.default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(0),o=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activationFunction:"sigmoid"};r(this,t),this.id=o.default.v4(),this.metadata={inputNeuronIds:[],outputNeuronIds:[]},this.weight=Math.random(),this.bias=.2*Math.random()-.1,this.outputValue=null,this.activationFunction=n.activationFunction}return i(t,[{key:"addInputNeuronId",value:function(t){this.metadata.inputNeuronIds.push(t)}},{key:"addOutputNeuronId",value:function(t){this.metadata.outputNeuronIds.push(t)}},{key:"process",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t*this.weight+this.bias,e=this.normalize(n);return this.outputValue=e,this.outputValue}},{key:"normalize",value:function(t){switch(this.activationFunction){case"sigmoid":return 1-Math.pow(Math.E,-t);default:throw new Error("The activationFunction "+this.activationFunction+" isn't implemented.")}}},{key:"toJSON",value:function(){return{id:this.id,metadata:this.metadata,weight:this.weight,bias:this.bias,outputValue:this.outputValue}}}]),t}();n.default=u,t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={activationFunction:{SIGMOID:"sigmoid",TANH:"tanh"}},t.exports=n.default},function(t,n,e){function r(t,n,e){var r=n&&e||0,i=n||[];t=t||{};var o=void 0!==t.clockseq?t.clockseq:s,f=void 0!==t.msecs?t.msecs:(new Date).getTime(),d=void 0!==t.nsecs?t.nsecs:c+1,v=f-l+(d-c)/1e4;if(v<0&&void 0===t.clockseq&&(o=o+1&16383),(v<0||f>l)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=f,c=d,s=o,f+=122192928e5;var h=(1e4*(268435455&f)+d)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var y=f/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var p=t.node||u,m=0;m<6;++m)i[r+m]=p[m];return n||a(i)}var i=e(2),a=e(1),o=i(),u=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),l=0,c=0;t.exports=r},function(t,n,e){function r(t,n,e){var r=n&&e||0;"string"==typeof t&&(n="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var u=0;u<16;++u)n[r+u]=o[u];return n||a(o)}var i=e(2),a=e(1);t.exports=r},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){t.exports=e(3)}])});